CREATE TABLE contenido (id BIGINT AUTO_INCREMENT, titulo VARCHAR(50) NOT NULL, descripcion TEXT NOT NULL, direccion VARCHAR(60) NOT NULL, status TINYINT(1) DEFAULT '1' NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE imc (id BIGINT AUTO_INCREMENT, usuario_id BIGINT NOT NULL, imc FLOAT(18, 2) NOT NULL, fecha_reg DATETIME NOT NULL, INDEX usuario_id_idx (usuario_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE medico (id BIGINT, usuario_id BIGINT NOT NULL, ubicacion VARCHAR(120), notificacion TINYINT(1) NOT NULL, especialidad VARCHAR(45) NOT NULL, consultorio VARCHAR(45) NOT NULL, INDEX usuario_id_idx (usuario_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE normal (id BIGINT AUTO_INCREMENT, cedula VARCHAR(9), usuario VARCHAR(30) NOT NULL, nombre VARCHAR(30) NOT NULL, apellido VARCHAR(45), clave VARCHAR(50) NOT NULL, mail VARCHAR(45) NOT NULL, tipo_id BIGINT, status TINYINT(1) DEFAULT '1' NOT NULL, ubicacion VARCHAR(120), notificacion TINYINT(1) NOT NULL, especialidad VARCHAR(45), consultorio VARCHAR(45), last_login DATETIME, created_at DATETIME, updated_at DATETIME, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE noticia (id BIGINT AUTO_INCREMENT, titulo VARCHAR(45) NOT NULL, descripcion TEXT NOT NULL, ubicacion VARCHAR(120), status INT NOT NULL, fecha_reg DATETIME NOT NULL, fecha_fin DATETIME NOT NULL, img1 VARCHAR(45), img2 VARCHAR(45), img3 VARCHAR(45), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE regular (id BIGINT, usuario_id BIGINT NOT NULL, ubicacion VARCHAR(120), notificacion TINYINT(1) NOT NULL, INDEX usuario_id_idx (usuario_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE tipo (id BIGINT AUTO_INCREMENT, nombre VARCHAR(255), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE user (id BIGINT AUTO_INCREMENT, cedula VARCHAR(9), usuario VARCHAR(30) NOT NULL, nombre VARCHAR(30) NOT NULL, apellido VARCHAR(45), clave VARCHAR(20) NOT NULL, mail VARCHAR(45) NOT NULL, tipo_id BIGINT NOT NULL, status TINYINT(1) DEFAULT '1' NOT NULL, last_login DATETIME, created_at DATETIME, INDEX tipo_id_idx (tipo_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE usuario (id BIGINT AUTO_INCREMENT, cedula VARCHAR(9), usuario VARCHAR(30) NOT NULL, nombre VARCHAR(30) NOT NULL, apellido VARCHAR(45), clave VARCHAR(50) NOT NULL, mail VARCHAR(45) NOT NULL, tipo_id BIGINT, status TINYINT(1) DEFAULT '1' NOT NULL, ubicacion VARCHAR(120), notificacion TINYINT(1) NOT NULL, especialidad VARCHAR(45), consultorio VARCHAR(45), last_login DATETIME, created_at DATETIME, updated_at DATETIME, PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE imc ADD CONSTRAINT imc_usuario_id_usuario_id FOREIGN KEY (usuario_id) REFERENCES usuario(id);
ALTER TABLE medico ADD CONSTRAINT medico_usuario_id_usuario_id FOREIGN KEY (usuario_id) REFERENCES usuario(id);
ALTER TABLE regular ADD CONSTRAINT regular_usuario_id_usuario_id FOREIGN KEY (usuario_id) REFERENCES usuario(id);
ALTER TABLE user ADD CONSTRAINT user_tipo_id_tipo_id FOREIGN KEY (tipo_id) REFERENCES tipo(id);
